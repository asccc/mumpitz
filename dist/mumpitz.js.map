{"version":3,"file":"mumpitz.js","sources":["mumpitz.js"],"sourcesContent":["(function (global) {\n  'use strict';\n\n  if ((\n    !global.Symbol ||\n    !global.Symbol.iterator ||\n    !document.querySelectorAll ||\n    !document.addEventListener ||\n    !document.documentElement ||\n    !document.documentElement.matches\n  )) {\n    throw Error('browser not supported');\n  }\n\n  // tags\n  const ITERATOR_TAG = global.Symbol.iterator;\n  // const TOSTRING_TAG = global.Symbol.toString;\n\n  /**\n   * Mumpitz wrapper class\n   */\n  class Mumpitz {\n    /**\n     * static initializer\n     *\n     * @param  {String} sel\n     * @param  {Element|null} ctx\n     * @return {Mumpitz}\n     */\n    static init (sel, ctx) {\n      if (!ctx) {\n        ctx = document;\n      }\n      return new Mumpitz(ctx.querySelectorAll(sel));\n    }\n\n    /**\n     * constructor\n     *\n     * @param  {NodeList} nodes\n     */\n    constructor (nodes) {\n      this.nodes = nodes;\n      this.length = nodes.length;\n    }\n\n    /**\n     * iterator\n     *\n     */\n    [ITERATOR_TAG] () {\n      // newer engines support Symbol.iterator on NodeList's\n      if (this.nodes[ITERATOR_TAG]) {\n        return this.nodes[ITERATOR_TAG]();\n      }\n\n      let i = 0;\n      let l = this.length;\n      let n = this.nodes;\n\n      return () => {\n        if (i + 1 >= l) {\n          return {\n            value: undefined,\n            done: true\n          };\n        }\n        return {\n          value: n[i++],\n          done: false\n        };\n      };\n    }\n\n    /**\n     * returns the first node\n     *\n     * @return {Element}\n     */\n    top () {\n      if (!this.length) {\n        throw Error('top() called on empty collection');\n      }\n      return this.nodes[0];\n    }\n\n    /**\n     * check if an element matches a selector\n     *\n     * @param  {String}  sel\n     * @return {Boolean}\n     */\n    is (sel) {\n      return this.top().matches(sel);\n    }\n\n    /**\n     * searches for elements in the top-element\n     *\n     * @param  {String} sel\n     * @return {Mumpitz}\n     */\n    find (sel) {\n      return Mumpitz.init(sel, this.top());\n    }\n\n    /**\n     * checks if the first element has a class-name\n     *\n     * @param  {String}  cn\n     * @return {Boolean}\n     */\n    hasClass (cn) {\n      return this.top().classList.contains(cn);\n    }\n\n    /**\n     * removes a class-name\n     *\n     * @param  {String} cn\n     * @return {Mumpitz}\n     */\n    removeClass (cn) {\n      for (let e of this) {\n        e.classList.remove(cn);\n      }\n      return this;\n    }\n\n    /**\n     * adds a class-name\n     *\n     * @param {String} cn\n     */\n    addClass (cn) {\n      for (let e of this) {\n        e.classList.add(cn);\n      }\n      return this;\n    }\n\n    /**\n     * toggles a class\n     *\n     * @param  {String} cn\n     * @return {Mumpitz}\n     */\n    toggleClass (cn) {\n      for (let e of this) {\n        e.classList.toggle(cn);\n      }\n      return this;\n    }\n  }\n\n  /* exports */\n  global.Mumpitz = Mumpitz.init;\n  global.Mumpitz.$ = global.$;\n  global.Mumpitz.fn = Mumpitz.prototype;\n  global.Mumpitz.noConflict = function () {\n    global.$ = global.Mumpitz.$;\n    return Mumpitz.init;\n  };\n\n  /* $ alias */\n  global.$ = global.Mumpitz;\n})(self);\n"],"names":["global","Symbol","iterator","document","querySelectorAll","addEventListener","documentElement","matches","Error","ITERATOR_TAG","Mumpitz","sel","ctx","nodes","length","i","l","n","value","undefined","done","top","init","cn","classList","contains","e","remove","add","toggle","$","fn","prototype","noConflict","self"],"mappings":"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"}