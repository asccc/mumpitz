{"version":3,"file":"mumpitz.js","sources":["mumpitz.js"],"sourcesContent":["/* global self */\n\n(function (global) {\n  'use strict';\n\n  if ((\n    !global.Symbol ||\n    !global.Symbol.iterator ||\n    !document.querySelectorAll ||\n    !document.addEventListener ||\n    !document.documentElement ||\n    !document.documentElement.matches\n  )) {\n    throw Error('browser not supported');\n  }\n\n  // tags\n  const ITERATOR_TAG = global.Symbol.iterator;\n  // const TOSTRING_TAG = global.Symbol.toString;\n\n  /**\n   * Mumpitz wrapper class\n   */\n  class Mumpitz {\n    /**\n     * static initializer\n     *\n     * @param  {String} selector\n     * @param  {Element|Document|null} context\n     * @return {Mumpitz}\n     */\n    static init (selector, context = document) {\n      return new Mumpitz(context.querySelectorAll(selector));\n    }\n\n    /**\n     * constructor\n     *\n     * @param  {NodeList} nodes\n     */\n    constructor (nodes) {\n      this.nodes = nodes;\n      this.length = nodes.length;\n    }\n\n    /**\n     * iterator\n     *\n     */\n    [ITERATOR_TAG] () {\n      // newer engines support Symbol.iterator on NodeList's\n      if (this.nodes[ITERATOR_TAG]) {\n        return this.nodes[ITERATOR_TAG]();\n      }\n\n      const count = this.length;\n      const nodes = this.nodes;\n      let index = 0;\n\n      return {\n        next () {\n          if (index < count) {\n            return {\n              value: nodes[index++],\n              done: false\n            };\n          }\n          return {\n            done: true\n          };\n        },\n\n        return (value) {\n          return {\n            value,\n            done: true\n          };\n        },\n\n        throw (error) {\n          throw error;\n        }\n      };\n    }\n\n    /**\n     * returns a node at the given index (zero-based)\n     * or all nodes if no index was specified\n     *\n     * @param {Number|null} index\n     * @return {Element}\n     */\n    get (index = null) {\n      if (index === null) {\n        return this.nodes;\n      }\n      let offset = index;\n      let length = this.length;\n      if (length === 0) {\n        throw Error('get(...) called on empty collection');\n      }\n      if (offset < 0) {\n        offset += length;\n      }\n      if (offset < 0 || offset >= length) {\n        throw Error(`get(...): index out of bounds (offset: ${offset}, length: ${length})`);\n      }\n      return this.nodes[offset];\n    }\n\n    /**\n     * check if an element matches a selector\n     *\n     * @param  {String}  sel\n     * @return {Boolean}\n     */\n    is (selector) {\n      return this.get(0).matches(selector);\n    }\n\n    /**\n     * searches for elements in the top-element\n     *\n     * @param  {String} sel\n     * @return {Mumpitz}\n     */\n    find (selector) {\n      return Mumpitz.init(selector, this.get(0));\n    }\n\n    /**\n     * checks if the first element has a class-name\n     *\n     * @param  {String}  cn\n     * @return {Boolean}\n     */\n    hasClass (className) {\n      return this.get(0).classList.contains(className);\n    }\n\n    /**\n     * removes a class-name\n     *\n     * @param  {String} className\n     * @return {Mumpitz}\n     */\n    removeClass (className) {\n      for (let e of this) {\n        e.classList.remove(className);\n      }\n      return this;\n    }\n\n    /**\n     * adds a class-name\n     *\n     * @param {String} className\n     */\n    addClass (className) {\n      for (let e of this) {\n        e.classList.add(className);\n      }\n      return this;\n    }\n\n    /**\n     * toggles a class\n     *\n     * @param  {String} className\n     * @return {Mumpitz}\n     */\n    toggleClass (className) {\n      for (let e of this) {\n        e.classList.toggle(className);\n      }\n      return this;\n    }\n  }\n\n  /* exports */\n  global.Mumpitz = Mumpitz.init;\n  global.Mumpitz.$ = global.$;\n  global.Mumpitz.fn = Mumpitz.prototype;\n  global.Mumpitz.noConflict = function () {\n    if (typeof global.Mumpitz.$ !== 'undefined') {\n      global.$ = global.Mumpitz.$;\n      delete global.Mumpitz.$;\n    }\n    return Mumpitz.init;\n  };\n\n  /* $ alias */\n  global.$ = global.Mumpitz;\n})(self);\n"],"names":["global","Symbol","iterator","document","querySelectorAll","addEventListener","documentElement","matches","Error","ITERATOR_TAG","Mumpitz","selector","context","nodes","length","count","index","next","value","done","return","throw","error","offset","get","init","className","classList","contains","e","remove","add","toggle","$","fn","prototype","noConflict","self"],"mappings":"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"}