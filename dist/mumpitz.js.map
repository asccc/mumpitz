{"version":3,"file":"mumpitz.js","sources":["mumpitz.js"],"sourcesContent":["/* global self */\n\n(function (global) {\n  'use strict';\n\n  if ((\n    !global.Symbol ||\n    !global.Symbol.iterator ||\n    !document.querySelectorAll ||\n    !document.addEventListener ||\n    !document.documentElement ||\n    !document.documentElement.matches\n  )) {\n    throw Error('browser not supported');\n  }\n\n  // tags\n  const ITERATOR_TAG = global.Symbol.iterator;\n  // const TOSTRING_TAG = global.Symbol.toString;\n\n  /**\n   * Mumpitz wrapper class\n   */\n  class Mumpitz {\n    /**\n     * static initializer\n     *\n     * @param  {String} selector\n     * @param  {Element|Document|null} context\n     * @return {Mumpitz}\n     */\n    static init (selector, context = document) {\n      if (selector instanceof Mumpitz) {\n        return selector;\n      }\n      return new Mumpitz(context.querySelectorAll(selector));\n    }\n\n    /**\n     * constructor\n     *\n     * @param  {NodeList} nodes\n     */\n    constructor (nodes) {\n      this.nodes = nodes;\n      this.length = nodes.length;\n    }\n\n    /**\n     * iterator\n     *\n     */\n    [ITERATOR_TAG] () {\n      // newer engines support Symbol.iterator on NodeList's\n      if (this.nodes[ITERATOR_TAG]) {\n        return this.nodes[ITERATOR_TAG]();\n      }\n\n      const count = this.length;\n      const nodes = this.nodes;\n      let index = 0;\n\n      return {\n        next () {\n          if (index < count) {\n            return {\n              value: nodes[index++],\n              done: false\n            };\n          }\n          return {\n            done: true\n          };\n        }\n      };\n    }\n\n    /**\n     * returns a node at the given index (zero-based)\n     * or all nodes if no index was specified\n     *\n     * @param {Number|null} index\n     * @return {Element}\n     */\n    get (index = null) {\n      if (index === null) {\n        return this.nodes;\n      }\n      let offset = index;\n      let length = this.length;\n      if (length === 0) {\n        throw Error(\n          'get(...) called on empty collection'\n        );\n      }\n      if (offset < 0) {\n        offset += length;\n      }\n      if (offset < 0 || offset >= length) {\n        throw Error(\n          `get(...): index out of bounds ` +\n          `(offset: ${offset}, length: ${length})`\n        );\n      }\n      return this.nodes[offset];\n    }\n\n    /**\n     * check if an element matches a selector\n     *\n     * @param  {String}  sel\n     * @return {Boolean}\n     */\n    is (selector) {\n      return this.get(0).matches(selector);\n    }\n\n    /**\n     * jquery compatible each()\n     *\n     * @param  {Function} func\n     * @return {Mumpitz}\n     */\n    each (func) {\n      // jQuery variant\n      const count = this.length;\n      const nodes = this.nodes;\n      for (let i = 0; i < count; ++i) {\n        func.call(nodes[i], i, nodes[i]);\n      }\n      return this;\n    }\n\n    /**\n     * standard forEach\n     *\n     * @param  {Function} func\n     * @param  {Object} context optional\n     */\n    forEach (func, context) {\n      const count = this.length;\n      const nodes = this.nodes;\n      const bound = context ? func.bind(context) : func;\n      for (let i = 0; i < count; ++i) {\n        bound(nodes[i], i, nodes);\n      }\n    }\n\n    /**\n     * searches for elements in the top-element\n     *\n     * @param  {String} sel\n     * @return {Mumpitz}\n     */\n    find (selector) {\n      return Mumpitz.init(selector, this.get(0));\n    }\n\n    /**\n     * checks if the first element has a class-name\n     *\n     * @param  {String}  cn\n     * @return {Boolean}\n     */\n    hasClass (className) {\n      return this.get(0).classList.contains(className);\n    }\n\n    /**\n     * removes a class-name\n     *\n     * @param  {String} className\n     * @return {Mumpitz}\n     */\n    removeClass (className) {\n      for (let e of this) {\n        e.classList.remove(className);\n      }\n      return this;\n    }\n\n    /**\n     * adds a class-name\n     *\n     * @param {String} className\n     */\n    addClass (className) {\n      for (let e of this) {\n        e.classList.add(className);\n      }\n      return this;\n    }\n\n    /**\n     * toggles a class\n     *\n     * @param  {String} className\n     * @return {Mumpitz}\n     */\n    toggleClass (className) {\n      for (let e of this) {\n        e.classList.toggle(className);\n      }\n      return this;\n    }\n  }\n\n  /* exports */\n  global.Mumpitz = Mumpitz.init;\n  global.Mumpitz.$ = global.$;\n  global.Mumpitz.fn = Mumpitz.prototype;\n  global.Mumpitz.noConflict = function () {\n    if (typeof global.Mumpitz.$ !== 'undefined') {\n      global.$ = global.Mumpitz.$;\n      delete global.Mumpitz.$;\n    }\n    return Mumpitz.init;\n  };\n\n  /* $ alias */\n  global.$ = global.Mumpitz;\n})(self);\n"],"names":["global","Symbol","iterator","document","querySelectorAll","addEventListener","documentElement","matches","Error","ITERATOR_TAG","Mumpitz","selector","context","nodes","length","count","index","next","value","done","offset","get","func","i","call","bound","bind","init","className","classList","contains","e","remove","add","toggle","$","fn","prototype","noConflict","self"],"mappings":"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"}